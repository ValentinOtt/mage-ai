"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4982],{62072:function(t,e,n){function r(t){return null==t?void 0:t[0]}function i(t){return null==t?void 0:t[1]}n.d(e,{l8:function(){return r},xf:function(){return i}})},59309:function(t,e,n){n.d(e,{ZP:function(){return c}});var r=n(12759),i=n(27500),o=n(82610),a=n(34812),l=n(77944),u={expand:r.Z,diverging:i.Z,none:o.Z,silhouette:a.Z,wiggle:l.Z};Object.keys(u);function c(t){return t&&u[t]||u.none}},18246:function(t,e,n){n.d(e,{ZP:function(){return c}});var r=n(39586),i=n(25516),o=n(54164),a=n(8512),l=n(2010),u={ascending:r.Z,descending:i.Z,insideout:o.Z,none:a.Z,reverse:l.Z};Object.keys(u);function c(t){return t&&u[t]||u.none}},4982:function(t,e,n){n.d(e,{O$:function(){return vt},Fk:function(){return xt}});var r=n(75582),i=n(12691),o=n.n(i),a=n(26304),l=n(21831),u=n(82394),c=n(82684),s=n(26226),d=n(84969),f=n(90948),h=n(65743),m=n(63588),v=n.n(m),x=n(75823),p=n(29989),g=n(62072),y=n(53989),b=n(49894),Z=n(18246),j=n(59309),k=["data","className","top","left","y","x0","x1","xScale","yScale","color","keys","value","order","offset","children"];function S(){return S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S.apply(this,arguments)}function T(t){var e=t.data,n=t.className,r=t.top,i=t.left,o=t.y,a=t.x0,l=void 0===a?g.l8:a,u=t.x1,s=void 0===u?g.xf:u,d=t.xScale,f=t.yScale,m=t.color,T=t.keys,L=t.value,M=t.order,w=t.offset,O=t.children,E=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,k),R=(0,x.Z)();T&&R.keys(T),L&&(0,b.Z)(R.value,L),M&&R.order((0,Z.ZP)(M)),w&&R.offset((0,j.ZP)(w));var Y=R(e),I=(0,y.Z)(f),D=Y.map((function(t,e){var n=t.key;return{index:e,key:n,bars:t.map((function(e,r){var i=(d(s(e))||0)-(d(l(e))||0),a=d(l(e)),u="bandwidth"in f?f(o(e.data)):Math.max((f(o(e.data))||0)-i/2);return{bar:e,key:n,index:r,height:I,width:i,x:a||0,y:u||0,color:m(t.key,r)}}))}}));return O?c.createElement(c.Fragment,null,O(D)):c.createElement(p.Z,{className:v()("visx-bar-stack-horizontal",n),top:r,left:i},D.map((function(t){return t.bars.map((function(e){return c.createElement(h.Z,S({key:"bar-stack-"+t.index+"-"+e.index,x:e.x,y:e.y,height:e.height,width:e.width,fill:e.color},E))}))})))}var L=n(79487),M=n(25976),w=n(61655),O=n(16853),E=n(65376),R=n(48072),Y=n(24903),I=n(84181),D=n(98677),P=n(30160),A=n(70987),_=n(79633),C=n(61896),H=n(70515),N=n(95363),F=n(28598),V=["height","width"];function z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function U(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?z(Object(n),!0).forEach((function(e){(0,u.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var B={bottom:5*H.iI,left:3*H.iI,right:20*H.iI,top:0},Q=function(t){return t.x},G=function(t){return t.y},X=(0,w.Z)((function(t){var e=t.data,n=t.height,r=t.hideTooltip,i=t.large,o=t.margin,a=void 0===o?{}:o,u=t.renderTooltipContent,s=t.showTooltip,m=t.tooltipData,v=t.tooltipLeft,x=t.tooltipOpen,g=t.tooltipTop,y=t.width,b=t.xAxisLabel,Z=t.xNumTicks,j=t.yLabelFormat,k=t.ySerialize,S=j;S||(S=function(t){return t.length>20?"".concat(t.substring(0,20),"..."):t});var w=i?C.iD:C.J5,H=(0,c.useContext)(M.ThemeContext),V=U(U({},B),a),z=e.slice(Math.max(0,e.length-50)),X=Object.keys(z[0]||[]).filter((function(t){return"x"===t})),W=(0,Y.Z)({domain:X,range:[_.hM]}),J=(0,I.Z)({domain:[0,Math.max.apply(Math,(0,l.Z)(z.map(Q)))],nice:!0}),$=(0,D.Z)({domain:z.map(G),padding:.35}),q={active:(null===H||void 0===H?void 0:H.content.default)||A.Z.content.default,backgroundPrimary:(null===H||void 0===H?void 0:H.chart.backgroundPrimary)||A.Z.chart.backgroundPrimary,backgroundSecondary:(null===H||void 0===H?void 0:H.chart.backgroundSecondary)||A.Z.chart.backgroundSecondary,muted:(null===H||void 0===H?void 0:H.content.muted)||A.Z.content.muted,primary:(null===H||void 0===H?void 0:H.chart.primary)||A.Z.chart.primary,tooltipBackground:(null===H||void 0===H?void 0:H.background.navigation)||A.Z.background.navigation},K=z.map(k),tt=Math.min(Math.max.apply(Math,(0,l.Z)(K.map((function(t){return String(t).length})))),20);6*tt>2*V.right?V.right+=5.5*tt:6*tt>=V.right&&(V.right+=3.75*tt);var et=y-V.left-V.right,nt=n-V.top-V.bottom;V.left+=7*tt,J.rangeRound([0,et]),$.rangeRound([nt,0]);var rt=z.map(Q).length,it=$(K[rt-1]),ot=(0,c.useCallback)((function(t){var e=(0,R.Z)(t)||{x:0,y:0},n=e.x,r=e.y,i=1-(r-it/2)/(nt-it),o=Math.floor(i*rt),a=z[o];"undefined"===typeof a&&(a=z[o-1]),r>it&&r<nt-it&&s({tooltipData:a,tooltipLeft:n,tooltipTop:r+V.top})}),[z,rt,V.top,s,it,nt]);return y<10?null:(0,F.jsxs)("div",{children:[(0,F.jsxs)("svg",{height:n,width:y,children:[(0,F.jsx)(h.Z,{fill:"transparent",height:n-(V.top+V.bottom),onMouseLeave:function(){return r()},onMouseMove:ot,onTouchMove:ot,onTouchStart:ot,rx:14,width:y-V.left,x:V.left,y:0}),(0,F.jsxs)(p.Z,{left:V.left,top:V.top,children:[(0,F.jsx)(T,{color:W,data:z,height:nt,keys:X,pointerEvents:"none",xScale:J,y:k,yScale:$,children:function(t){return t.map((function(t){return t.bars.map((function(e){return(0,F.jsx)("g",{children:(0,F.jsx)(F.Fragment,{children:(0,F.jsx)("rect",{fill:q.backgroundPrimary,height:e.height,pointerEvents:"none",rx:4,width:e.width,x:e.x,y:e.y})})},"barstack-horizontal-".concat(t.index,"-").concat(e.index))}))}))}}),(0,F.jsx)(d.Z,{hideTicks:!0,scale:$,stroke:q.muted,tickFormat:function(t){return S(t)},tickLabelProps:function(){return{fill:q.active,fontFamily:N.ry,fontSize:w,style:{width:"10px"},textAnchor:"end"}},tickStroke:q.muted,tickValues:K,top:2}),(0,F.jsx)(f.Z,{label:b,labelProps:{fill:q.muted,fontFamily:N.ry,fontSize:w,textAnchor:"middle"},numTicks:Z,scale:J,stroke:q.muted,tickLabelProps:function(){return{fill:q.active,fontFamily:N.ry,fontSize:w,textAnchor:"middle"}},tickStroke:q.muted,top:nt})]}),m&&(0,F.jsx)("g",{children:(0,F.jsx)(L.Z,{from:{x:V.left,y:g},pointerEvents:"none",stroke:_.Ej,strokeDasharray:"5,2",strokeWidth:1,to:{x:et+V.left,y:g}})})]}),x&&m&&(0,F.jsx)(O.Z,{left:v,style:U(U({},E.j),{},{backgroundColor:q.tooltipBackground}),top:g,children:(0,F.jsxs)(P.ZP,{black:!0,small:!0,children:[null===u||void 0===u?void 0:u(m),!u&&Q(m).toFixed(4)]})})]})}));var W,J,$,q,K=function(t){var e=t.height,n=t.width,r=(0,a.Z)(t,V);return(0,F.jsx)("div",{style:{height:e,width:"undefined"===typeof n?"100%":n},children:(0,F.jsx)(s.Z,{children:function(t){var e=t.width,n=t.height;return(0,F.jsx)(X,U(U({},r),{},{height:n,width:e}))}})})},tt=n(97618),et=n(52729),nt=n(48670),rt=n(87862),it=n(89370),ot=n(86735),at=(ot.Qj,ot.tS,ot.tS,ot.tS,ot.tS,ot.Qj,ot.Qj,ot.Qj,ot.tS,ot.tS,W={},(0,u.Z)(W,it.RL.EMAIL,"domain_distribution"),(0,u.Z)(W,it.RL.TEXT,"word_distribution"),(0,u.Z)(W,it.RL.LIST,"element_distribution"),(0,u.Z)(W,"default","value_counts"),W),lt=[].concat((0,l.Z)(it.P_),[it.RL.TEXT,it.RL.EMAIL,it.RL.LIST]),ut=(J={},(0,u.Z)(J,it.RL.EMAIL,"Domain distribution"),(0,u.Z)(J,it.RL.TEXT,"Word distribution"),(0,u.Z)(J,it.RL.LIST,"Element distribution"),(0,u.Z)(J,"default","Distribution of values"),n(31353));!function(t){t.RANGE="range"}($||($={})),function(t){t.BAR_HORIZONTAL="bar_horizontal",t.LINE_CHART="line_chart",t.HISTOGRAM="histogram"}(q||(q={}));var ct=n(48888),st=n(92083),dt=n.n(st),ft=n(81728);function ht(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r||{},o=i.calculateAnomaly,a=i.feature,u=i.getYValue,c=t.x,s=t.x_metadata,d=s.label,f=s.label_type,h=t.y,m=(null===h||void 0===h?void 0:h.map((function(t){return null===u||void 0===u?void 0:u(t)})))||[],v=Math.max.apply(Math,(0,l.Z)(m)),x=Math.max.apply(Math,(0,l.Z)(m)),p=(0,ot.Sm)(m),g=(0,ot.IN)(m),y=p/Math.max(1,m.length),b=e[d]||a,Z=null===b||void 0===b?void 0:b.columnType,j=it.RL.DATETIME===Z,k=[],S=[],T=c.length,L=c.map((function(t,e){var r,i,a,l,u=t.label,c=t.max,s=t.min,d=h[e];if($.RANGE===f)if(n||(n=c-s),l=it.RL.NUMBER===Z&&n<=T)r=Number(s);else if(r=n/2+s,j){var b="M/D/YYYY",L="M/D/YYYY",M="M/D/YYYY";n<=1?(b=n<=.1?"H:mm:ss.SSS":"H:mm:ss",L="H:mm:ss.SSS",M="H:mm:ss.SSS"):n<=60?(b="H:mm",L="H:mm:ss",M="H:mm:ss"):n<=3600?(b="H:mm",L="M/D/YYYY H:mm",M="H:mm"):n<=86400&&(L="M/D/YYYY H:mm",M="M/D/YYYY H:mm"),r=dt().unix(r).format(b),i=dt().unix(s).format(L),a=dt().unix(c).format(M)}else r=(0,ft.QV)(r);else r=u;var w=e>=1?h[e-1]:null,O=!1;o&&(O=o({x:t,y:d,yPrevious:w,yValues:m,yValuesAverage:y,yValuesMax:v,yValuesMin:x,yValuesStandardDeviation:g,yValuesSum:p}));var E={hideRange:l,isUnusual:O,x:t,xLabel:r,xLabelMax:a,xLabelMin:i,y:d};return O&&(l?S.push(E):k.push(E)),E}));return{distribution:{data:L,featureUUID:d},rangedWithUnusualDistribution:(0,ot.YC)(k,(function(t){var e=t.y;return u(e)}),{ascending:!1}),unusualDistribution:(0,ot.YC)(S,(function(t){var e=t.y;return u(e)}),{ascending:!1})}}var mt=n(40489);var vt=12*H.iI;function xt(t){var e=t.columnTypes,n=t.columns,i=t.insightsByFeatureUUID,a=t.insightsOverview,l=t.noColumnLinks,u=void 0!==l&&l,c=t.statistics;return function(t,l,s){var d=s.width,f=n[l],h=e[f],m=ut.T5[h],v=(i[f]||{}).charts,x=a.time_series,p=n.filter((function(t){return e[t]===it.RL.DATETIME})),g=null===x||void 0===x?void 0:x.map((function(t){return ht(t,{},{feature:{columnType:h,uuid:f}}).distribution})),y={};null===g||void 0===g||g.forEach((function(t,e){var n=t.data;y[p[e]]=(0,F.jsx)(et.Z,{data:n.map((function(t){var e=t.x,n=t.xLabel,r=t.xLabelMax,i=t.xLabelMin;return[n,t.y.count,i,r,e.min,e.max]})),height:vt,large:!0,margin:{bottom:0,left:0,right:0,top:0},renderTooltipContent:function(t){var e=(0,r.Z)(t,4),n=e[1],i=e[2],o=e[3];return(0,F.jsxs)("p",{children:["Rows: ",n,(0,F.jsx)("br",{}),"Start: ",i,(0,F.jsx)("br",{}),"End: ",o]})},sortData:function(t){return(0,ot.YC)(t,"[4]")}},f)}));var b,Z=null===v||void 0===v?void 0:v.find((function(t){var e=t.type;return q.HISTOGRAM===e})),j=(Z?ht(Z,{},{feature:{columnType:h,uuid:f},getYValue:function(t){return t.value}}):{}).distribution,k=void 0===j?null:j,S=at[h]||at.default,T=null===c||void 0===c?void 0:c["".concat(f,"/").concat(S)],L=Object.entries(T||{}).map((function(t){var e=(0,r.Z)(t,2),n=e[0];return{x:e[1],y:n}})),M=it.RL.TRUE_OR_FALSE===h;if(it.RL.DATETIME===h)b=y[f];else if(k&&!M)b=(0,F.jsx)(et.Z,{data:k.data.map((function(t){var e=t.hideRange,n=t.isUnusual,r=t.x;return[t.xLabel,t.y.value,r.min,r.max,n,e]})),height:vt,margin:{bottom:0,left:0,right:0,top:0},renderTooltipContent:function(t){var e=(0,r.Z)(t,6),n=e[1],i=e[2],o=e[3],a=e[5];return(0,F.jsxs)("p",{children:[a&&(0,F.jsxs)(F.Fragment,{children:["Rows: ",n,(0,F.jsx)("br",{}),"Value: ",i]}),!a&&(0,F.jsxs)(F.Fragment,{children:["Rows: ",n,(0,F.jsx)("br",{}),"Range: ",i," - ",o]})]})},sortData:function(t){return(0,ot.YC)(t,"[2]")},width:d-2*H.iI});else if(lt.includes(h)){var w=(0,ot.YC)((0,ot.YC)(L,"x",{ascending:!1}).slice(0,5),"x");b=(0,F.jsx)(K,{data:w,height:vt,margin:{bottom:0,left:0,right:20,top:0},renderTooltipContent:function(t){var e=t.x,n=t.y;return"".concat(n," appears ").concat((0,ft.x6)(e)," times")},xNumTicks:2,ySerialize:function(t){return t.y}})}else M&&T&&(b=(0,F.jsx)(rt.Z,{data:Object.entries(T),getX:function(t){var e=(0,r.Z)(t,2),n=e[0],i=e[1];return"".concat(n," (").concat((0,ft.x6)(i),")")},getY:function(t){return(0,r.Z)(t,2)[1]},height:vt}));return(0,F.jsxs)("div",{style:{padding:H.iI},children:[(0,F.jsxs)("div",{style:{alignItems:"center",display:"flex",marginBottom:H.iI},children:[m&&(0,F.jsx)(tt.Z,{title:it.Rp[h],children:(0,F.jsx)(m,{size:2*H.iI})}),(0,F.jsx)("div",{style:{marginLeft:.5*H.iI,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:d-4.5*H.iI},children:u?(0,F.jsx)(P.ZP,{bold:!0,default:!0,title:n[l],children:n[l]}):(0,F.jsx)(o(),{as:(0,mt.o_)(ct.oE,l),href:"/datasets/[...slug]",passHref:!0,children:(0,F.jsx)(nt.Z,{bold:!0,monospace:!0,secondary:!0,small:!0,title:n[l],children:n[l]})})})]}),b,!b&&(0,F.jsx)("div",{style:{height:vt}})]})}}}}]);